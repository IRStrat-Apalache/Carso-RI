{% extends 'layouts/base.html' %}
{% load static i18n %}

{% block otherstyles %}
    <link rel="stylesheet" href="{% static 'css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'css/owl.theme.default.css' %}">
    <link rel="stylesheet" href="{% static 'css/jquery-ui.css' %}">
    <link rel="stylesheet" href="{% static 'css/flexslider.css' %}{{ css_js_version }}">
    <link rel="stylesheet" href="{% static 'css/tabsinver.css' %}">
    <link rel="stylesheet" href="{% static 'css/amcharts.css' %}">
    <style>

        .investor-card {
            transition: transform 0.2s, box-shadow 0.2s;
            background: #fff;
        }

        .investor-card:hover {
            transform: translateY(-5px) scale(1.03);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.15);
        }

        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.4);
            opacity: 0;
            transition: opacity 0.2s;
        }

        .investor-card:hover .overlay {
            opacity: 1;
        }

        .owl-carousel .owl-dots {
            flex-grow: 1; /* Los puntos ocupan el espacio central */
            display: flex;
            justify-content: center;
        }

        .owl-carousel .owl-dot {
            display: inline-block;
            margin: 0 5px;
            background-color: grey !important;
            border-radius: 50%;
            width: 10px;
            height: 10px;
        }

        .owl-carousel .owl-dot.active {
            background-color: #59A971 !important;
        }


        .owl-carousel .owl-dot:focus {
            outline: none;
        }

        .owl-carousel1 {
            overflow: visible !important;
            margin: 10px 0;
        }

        /* Estilos para el efecto hover de las imágenes */
        .image-hover-container {
            position: relative;
            display: inline-block;
            width: 100%;
        }

        .image-hover-container img {
            transition: opacity 0.3s ease;
            width: 100%;
            height: auto;
        }

        .hover-content {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background-color: rgba(35, 53, 107, 0.95);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: left;
            opacity: 0;
            transition: opacity 0.3s ease;
            pointer-events: none;
            font-weight: 500;
            font-size: 13px;
            max-width: 90%;
            min-width: 80%;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }

        .hover-title {
            font-size: 18px;
            font-weight: bold;
            text-align: center;
            margin-bottom: 15px;
            color: #59A971;
            border-bottom: 2px solid #59A971;
            padding-bottom: 8px;
        }

        .hover-list {
            list-style: none;
            padding: 0;
            margin: 0 0 15px 0;
        }

        .hover-list li {
            padding: 4px 0;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            font-size: 15px;
        }

        .hover-list li:last-child {
            border-bottom: none;
        }

        .hover-download-btn {
            background-color: #59A971;
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            font-weight: bold;
            font-size: 12px;
            width: 100%;
            cursor: pointer;
            transition: background-color 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .hover-download-btn:hover {
            background-color: #4a8a5f;
        }

        .image-hover-container:hover img {
            opacity: 0.2;
        }

         .image-hover-container:hover .hover-content {
             opacity: 1;
         }

         /* Estilos para las métricas interactivas */
         .metric-card {
             background: white;
             border-radius: 15px;
             padding: 30px 25px;
             text-align: center;
             box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
             transition: all 0.3s ease;
             position: relative;
             overflow: hidden;
             border: 2px solid transparent;
         }

         .metric-card:hover {
             transform: translateY(-10px);
             box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
             border-color: #59A971;
         }

         .metric-card::before {
             content: '';
             position: absolute;
             top: 0;
             left: -100%;
             width: 100%;
             height: 100%;
             background: linear-gradient(90deg, transparent, rgba(89, 169, 113, 0.1), transparent);
             transition: left 0.5s;
         }

         .metric-card:hover::before {
             left: 100%;
         }

         .metric-icon {
             font-size: 48px;
             color: #59A971;
             margin-bottom: 20px;
             transition: all 0.3s ease;
         }

         .metric-card:hover .metric-icon {
             transform: scale(1.1);
             color: #4a8a5f;
         }

         .metric-content {
             margin-bottom: 20px;
         }

         .metric-number {
             font-size: 48px;
             font-weight: bold;
             color: #23356B;
             margin: 0;
             transition: all 0.3s ease;
         }

         .metric-card:hover .metric-number {
             color: #59A971;
             transform: scale(1.05);
         }

         .metric-label {
             font-size: 18px;
             font-weight: 600;
             color: #333;
             margin: 10px 0 5px 0;
         }

         .metric-unit {
             font-size: 14px;
             color: #666;
             font-weight: 500;
             margin: 0;
         }

         .metric-description {
             opacity: 0;
             max-height: 0;
             overflow: hidden;
             transition: all 0.3s ease;
             background: #f8f9fa;
             border-radius: 8px;
             padding: 0;
             margin-top: 15px;
         }

         .metric-card:hover .metric-description {
             opacity: 1;
             max-height: 100px;
             padding: 15px;
         }

         .metric-description p {
             margin: 0;
             font-size: 14px;
             color: #555;
             line-height: 1.4;
         }

         /* Animación de contador */
         @keyframes countUp {
             from { opacity: 0; transform: translateY(20px); }
             to { opacity: 1; transform: translateY(0); }
         }

         .metric-number.animating {
             animation: countUp 0.6s ease-out;
         }

        .owl-carousel1 .owl-item {
            /* border: 2px green solid; */
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 10px;
            /* width: 350px !important; */
            height: 100% !important;
            transition: .5s ease;
        }

        .owl-carousel1 .owl-item:hover {
            transform: translateY(-7px);
        }
    </style>
{% endblock %}



{% block content %}


    <div id="contenido" class="py-5" style="background-color: #EDEDED;">
        <div class="container">
            <div class="row d-flex justify-content-start wow fadeInUp">

                <!-- Columna IZQUIERDA: Contenido descargable -->
                <div class="col-lg-12 col-md-12">
                    <h1 class="py-4 px-2" style="color: #23356B; font-size: 48px;">
                        Programas de <b>CKDs</b>
                    </h1>
                    <div class="row d-flex justify-content-start wow fadeInUp">
                        <!-- Aquí tus elementos de descarga -->
                        <div class="col-md-4 mb-4">
                            <a href="https://investorcloud.s3.amazonaws.com/Fondodefondos/SitioRI/CKDs/FFLA1CK.pdf"
                               target="_blank">
                                <div class="image-hover-container">
                                    <img class="img-fluid mb-2" src="{% static 'images/FFLA1CK.png' %}" alt="">
                                    <div class="hover-content">
                                        <div class="hover-title">FFLA1CK</div>
                                        <ul class="hover-list">
                                            <li>Vintage 2015</li>
                                            <li>Máximo 3,282 MDP</li>
                                            <li>Emitido 2,449 MDP</li>
                                            <li>Distribuido 553.1 MDP</li>
                                            <li>13 Fondos</li>
                                            <li>3 Co-inversiones</li>
                                            <li>1 Co-inversión desinvertida</li>
                                        </ul>
                                        <button class="hover-download-btn">DESCARGAR</button>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-4 mb-4">
                            <a href="https://investorcloud.s3.amazonaws.com/Fondodefondos/SitioRI/CKDs/FFLA2CK.pdf"
                               target="_blank">
                                <div class="image-hover-container">
                                    <img class="img-fluid mb-2" src="{% static 'images/FFLA2CK.png' %}" alt="">
                                    <div class="hover-content">
                                        <div class="hover-title">FFLA2CK</div>
                                        <ul class="hover-list">
                                            <li> Vintage 2015</li>
                                            <li> Máximo 4,550 MDP</li>
                                            <li> Emitido 4,550 MDP</li>
                                            <li> Distribuido 782.3 MDP</li>
                                            <li> 5 Co-inversiones y 2 Co-inversiones desinvertidas</li>
                                        </ul>
                                        <button class="hover-download-btn">DESCARGAR</button>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-4 mb-4">
                            <a href="https://investorcloud.s3.amazonaws.com/Fondodefondos/SitioRI/CKDs/FFLA3CK.pdf"
                               target="_blank">
                                <div class="image-hover-container">
                                    <img class="img-fluid mb-2" src="{% static 'images/FFLA3CK.png' %}" alt="">
                                    <div class="hover-content">
                                        <div class="hover-title">FFLA3CK</div>
                                        <ul class="hover-list">
                                            <li> Vintage 2015</li>
                                            <li> Máximo 3,900 MDP</li>
                                            <li> Emitido 1,107 MDP</li>
                                            <li> Distribuido 544.3 MDP</li>
                                            <li> 1 Fondo</li>
                                            <li> 1 Co-inversión</li>
                                            <li> 1 Co-inversión desinvertida</li>
                                        </ul>
                                        <button class="hover-download-btn">DESCARGAR</button>
                                    </div>
                                </div>
                            </a>
                        </div>
                    </div>
                </div>

            </div>
        <div class="row d-flex justify-content-center wow fadeInUp">
   
                        <div class="col-md-4 mb-4">
                            <a href="https://investorcloud.s3.amazonaws.com/Fondodefondos/SitioRI/CKDs/FFLA4CK.pdf"
                               target="_blank">
                                <div class="image-hover-container">
                                    <img class="img-fluid mb-2" src="{% static 'images/FFLA4CK.png' %}" alt="">
                                    <div class="hover-content">
                                        <div class="hover-title">FFLA4CK</div>
                                        <ul class="hover-list">
                                            <li> Vintage 2015</li>
                                            <li> Máximo 4,704 MDP</li>
                                            <li> Emitido 3,973 MDP</li>
                                            <li> Distribuido 26.4 MDP</li>
                                            <li> 3 Co-inversiones</li>
                                        </ul>
                                        <button class="hover-download-btn">DESCARGAR</button>
                                    </div>
                                </div>
                            </a>
                        </div>
                        <div class="col-md-4 mb-4">
                            <a href="https://investorcloud.s3.amazonaws.com/Fondodefondos/SitioRI/CKDs/FFBANCK.pdf"
                               target="_blank">
                                <div class="image-hover-container">
                                    <img class="img-fluid mb-2" src="{% static 'images/FFLBANCK.png' %}" alt="">
                                    <div class="hover-content">
                                        <div class="hover-title">FFBANCK</div>
                                        <ul class="hover-list">
                                             <li> Vintage 2018 </li>
                                             <li> Máximo 4,000 MDP </li>
                                             <li> Emitido 1,510 MDP</li>
                                             <li> Distribuido 397.5 MDP</li>
                                             <li> 2 Co-inversiones</li>
                                        </ul>
                                        <button class="hover-download-btn">DESCARGAR</button>
                                    </div>
                                </div>
                            </a>
                        </div>
                        
        </div>



        </div>
    </div>

    <!-- Sección de Métricas Interactivas -->
    <section id="metricas_section" class="py-5" style="background-color: #f8f9fa;">
        <div class="container">
            <div class="row">
                <div class="col-12 mb-5">
                    <h2 style="color: #23356B; font-size: 36px; font-weight: bold;">Métricas de nuestros programas CKD</h2>
                </div>
            </div>
            <div class="row justify-content-center">
                <!-- Métrica 1: Total Máximo Emisión -->
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                    <div class="metric-card" data-metric="max-emision">
                        <div class="metric-icon">
                            <i class="fa fa-chart-line"></i>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-number" data-target="20435.6">0</h3>
                            <p class="metric-label">Total Máximo Emisión</p>
                            <p class="metric-unit">MDP</p>
                        </div>
                        <div class="metric-description">
                            <p>Capacidad máxima de emisión consolidada de todos los programas CKD</p>
                        </div>
                    </div>
                </div>

                <!-- Métrica 2: Total Emitido -->
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                    <div class="metric-card" data-metric="emitido">
                        <div class="metric-icon">
                            <i class="fa fa-coins"></i>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-number" data-target="13589.4">0</h3>
                            <p class="metric-label">Total Emitido</p>
                            <p class="metric-unit">MDP</p>
                        </div>
                        <div class="metric-description">
                            <p>Monto total efectivamente emitido en todos los programas</p>
                        </div>
                    </div>
                </div>

                <!-- Métrica 3: Total Distribuido -->
                <div class="col-lg-4 col-md-6 col-sm-12 mb-4">
                    <div class="metric-card" data-metric="distribuido">
                        <div class="metric-icon">
                            <i class="fa fa-hand-holding-usd"></i>
                        </div>
                        <div class="metric-content">
                            <h3 class="metric-number" data-target="2303.6">0</h3>
                            <p class="metric-label">Total Distribuido</p>
                            <p class="metric-unit">MDP</p>
                        </div>
                        <div class="metric-description">
                            <p>Distribuciones totales realizadas a los inversionistas</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>


{% endblock %}

{% block otherscripts %}
    <script src="{% static 'js/amCharts/amcharts.js' %}"></script>
    <script src="{% static 'js/amCharts/serial.js' %}"></script>
    <script src="{% static 'js/amCharts/pie.js' %}"></script>
    <script src="{% static 'js/amCharts/amstock.js' %}"></script>
    <script src="{% static 'js/jquery-ui-1.11.0.min.js' %}"></script>
    <script src="{% static 'js/amCharts/themes/iredge.js' %}{{ css_js_version }}"></script>
    <script src="{% static 'js/isotope.pkgd.min.js' %}"></script>
    <script src="{% static 'js/tabsinv.js' %}{{ css_js_version }}"></script>
    <script src="{% static 'js/variables_cotizacion.js' %}"></script>
    <script src="{% static 'js/amCharts/contenido/dashboard.min.js' %}{{ css_js_version }}"></script>
    <script src="{% static 'js/owl.carousel.min.js' %}"></script>
    <script>




        // JavaScript para métricas interactivas
        function animateCounter(element, target, duration = 2000) {
            const start = 0;
            const increment = target / (duration / 16);
            let current = start;
            
            const timer = setInterval(() => {
                current += increment;
                if (current >= target) {
                    current = target;
                    clearInterval(timer);
                }
                // Formatear número con separación de miles
                element.textContent = current.toFixed(1).replace(/\B(?=(\d{3})+(?!\d))/g, ",");
            }, 16);
        }

        // Función para detectar cuando las métricas están en el viewport
        function isInViewport(element) {
            const rect = element.getBoundingClientRect();
            return (
                rect.top >= 0 &&
                rect.left >= 0 &&
                rect.bottom <= (window.innerHeight || document.documentElement.clientHeight) &&
                rect.right <= (window.innerWidth || document.documentElement.clientWidth)
            );
        }

        // Animar métricas cuando aparecen en pantalla
        let metricsAnimated = false;
        $(window).scroll(function() {
            if (!metricsAnimated && $('#metricas_section').length) {
                if (isInViewport(document.getElementById('metricas_section'))) {
                    metricsAnimated = true;
                    
                    $('.metric-number').each(function() {
                        const target = parseFloat($(this).data('target'));
                        const element = this;
                        
                        $(this).addClass('animating');
                        animateCounter(element, target, 2000);
                    });
                }
            }
        });

        // Efectos hover adicionales para las métricas
        $('.metric-card').hover(
            function() {
                $(this).find('.metric-number').addClass('animating');
            },
            function() {
                $(this).find('.metric-number').removeClass('animating');
            }
        );

        // Click en métricas para mostrar información adicional
        $('.metric-card').click(function() {
            const metric = $(this).data('metric');
            const number = $(this).find('.metric-number').text();
            const label = $(this).find('.metric-label').text();
            
            // Crear modal o alert con información detallada
            alert(`${label}: ${number} MDP\n\nInformación detallada disponible en nuestros reportes financieros.`);
        });

        // Función auxiliar para formatear números con separación de miles
        function formatNumber(num) {
            return num.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ",");
        }

    </script>
    <script src="{% static 'js/amCharts/contenido/dashboard.js' %}"></script>
{% endblock %}
